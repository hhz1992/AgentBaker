#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /usr/local/bin/configure_azure0.sh
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SU0W/bNhDG3/lXfJGFqsVmyR720CQQBsF2N6ONEsTZiiFwDVqiLM4KqZJUPNf2/z5QchS5W7ZhexN0d9/9+N2RvbOg0ipYchEw8Ygl1TkhPUyNpyFFsYVgCdOaqi2MRCJFxleVYqBfKsUG4AI/LythKgzf+oPvSaGXC8UKRjVDn2MPulmj/8678ODtSsWFgfvdwWv+ezt3GLrDSxwDw4OHPVaKleh/5nA+VbW06xCe4R7uDzgLMcD8EiZnggAAS3IJb2rANYQ0TzCzNS9bWC5WR1yvqfmdGwxIxskprvo/uHA+1Q78B9i6zv/XzD2McpaswTOr3GQhEfxYa8VNzhTzfR9CQjCW2tGpSsDkXEMnipfGlgtpSA9RoSVSKTyDDRXmJHeTM1GjVrol6ieCk3ucoZ8hYCYJEsEDwYyfBsNBv07xLUrBtcEcr149wVvyeArD6AMemDBcCotKTdPraIrlZSkyqZDQgif2BGYj1RqlLHiy/YuzkNpYJz7Ju4C7iyd3H69v3y9urj9MR78emtHcw/lzBGEIp+nnYH4ytL93foCl4umKWXxaKEbT7fMtSUkPH9nR3O4geAYtfcJLFFysoXO5eZLr+KUqsSiLasXF6zfYHWlKqYz1cTG6vrqK4nHoDutIQs0/j2OP3z7D8wV9YKAabv2xh58I/gtTmktR/348fu/hN/31/fybEDubftFUfYvnmou24tAtGczt/QhkaWom+8Q0C/QomCEHQjqHiW5/nIXe+7ezxc31eBFHV5PZTTSahCnLaFWYy24kbP2NrNwonnrkxJf4LprGk9vpODw/Pz/vxuLJXTwLA1UJa5HQQStFv9i17qRO39W9mMm/FrmJ7n4Ku8cidpC1Hmiawn29pJrV1rq7tuvhTWeeiMZj0j4U/ZX56qVo9VJWwHlJ0Hle0GG9oJ0G48kHcqLyItUfAQAA//+8Xj4iAgYAAA==

- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySS2/bMBCE7/wVCyGH9sAwfdwCHeJGSY0YaWA5yME2DIpa2wtTlEAuHadN/3shP9L6EaA8LuebGWB3+OiIx+Iag/HUMNUuvYsFWmTxrXYltZMHzfNsRYFDqmLwytZGW1WQU4utVIhhjn5JBseij4G151TbZ/0SROaW5GtXoeMbspgqZKNKnOpo+Y3PozEYQrYizllzDOmnr19EtkKTt14PHtN1XqHDHFTdsNI/o0dlaseaHPqwszoP8xNctSjJg2xALbVXloq35P/RGkfvdZEGEprCEM4+VHV0DK8w89jAKDlMGiXwCs8GpP0I0iJcwBgugefoYBO7xqUsyJVHNY8HlzCl5FT7rU2lFyjDXHs8dhP7nFShJbFgXVgMIBmcbj0sBT4ppeZQ6mKFnswOOkg4uBpTuynNosfJeosX7c7+Au/cGIwEbJ+U6Np8GdAv0e/9uLpEaXWBNqTJ2a+7x07WywaT+x/X2aR31cl6+e9kD1imn2F/UNtYoWxsnJGTJfnNybY1vEPGoDaKjSD8w57t0m56V7f5qY9+dtvNB1l/3efE+Kk7+D4ZXHXvB7kQw64LrK0diyftGMvOS1pFyyRjQH/O2s+Q/wQAAP//6peFIr8DAAA=



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";




    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
      ,"default-runtime": "nvidia",
      "runtimes": {
         "nvidia": {
             "path": "/usr/bin/nvidia-container-runtime",
             "runtimeArgs": []
        }
      }
    }







- path: /etc/systemd/system/nvidia-modprobe.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=Installs and loads Nvidia GPU kernel module
    [Service]
    Type=oneshot
    RemainAfterExit=true
    ExecStartPre=/bin/sh -c "dkms autoinstall --verbose"
    ExecStart=/bin/sh -c "nvidia-modprobe -u -c0"
    ExecStartPost=/bin/sh -c "sleep 10 && systemctl restart kubelet"
    [Install]
    WantedBy=multi-user.target


- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --azure-container-registry-config=/etc/kubernetes/azure.json --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true,a=b,PodPriority=true,x=y --image-gc-high-threshold=85 --image-gc-low-threshold=80 --kube-reserved=cpu=100m,memory=1638Mi --max-pods=110 --node-status-update-frequency=10s --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=10255 --resolv-conf=/etc/resolv.conf --rotate-certificates=true --streaming-connection-idle-timeout=4h0m0s --system-reserved=cpu=2,memory=1Gi --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key 
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Standard_LRS,accelerator=nvidia,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
